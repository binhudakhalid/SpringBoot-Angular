ALTER TABLE USER ADD COLUMN PASSWORD VARCHAR(100) NOT NULL;

CREATE TABLE AUTHORITY(  
  ID INT NOT NULL AUTO_INCREMENT,
  NAME VARCHAR(50) NOT NULL,
  PRIMARY KEY (ID)
);

CREATE TABLE USER_AUTHORITY(  
  ID INT NOT NULL AUTO_INCREMENT,
  USER_ID INT NOT NULL,
  AUTHORITY_ID INT NOT NULL,
  PRIMARY KEY (ID),
  FOREIGN KEY (USER_ID) REFERENCES USER(ID),
  FOREIGN KEY (AUTHORITY_ID) REFERENCES AUTHORITY(ID)
);

CREATE TABLE TASK(  
  ID INT NOT NULL AUTO_INCREMENT,
  TITLE VARCHAR(50) NOT NULL,
  DESCRIPTION VARCHAR(200),
  CREATED_BY INT NOT NULL,
  LAST_MODIFIED_BY INT NOT NULL,
  DATE_CREATED TIMESTAMP NOT NULL,
  LAST_UPDATED TIMESTAMP NOT NULL,
  PRIMARY KEY (ID),
  FOREIGN KEY (CREATED_BY) REFERENCES USER(ID),
  FOREIGN KEY (LAST_MODIFIED_BY) REFERENCES USER(ID)
);





/*
SQLyog Ultimate v11.11 (64 bit)
MySQL - 5.6.28-log : Database - isms_platform
*********************************************************************
*/


/*!40101 SET NAMES utf8 */;

/*!40101 SET SQL_MODE=''*/;

/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

/*Table structure for table `charging_statistics` */

DROP TABLE IF EXISTS `charging_statistics`;

CREATE TABLE `charging_statistics` (
  `Date` date DEFAULT NULL,
  `total_charging_requests` int(20) DEFAULT NULL,
  `success_charging` int(20) DEFAULT NULL,
  `failed_charging` int(20) DEFAULT NULL,
  `total_revenue` int(20) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

/*Table structure for table `platform_statistics` */

DROP TABLE IF EXISTS `platform_statistics`;

CREATE TABLE `platform_statistics` (
  `Date` date DEFAULT NULL,
  `total_calls_busy_noanswer` int(200) DEFAULT NULL,
  `total_valid_calls` int(200) DEFAULT NULL,
  `total_unique_bparty` int(200) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

/*Table structure for table `service_statistics` */

DROP TABLE IF EXISTS `service_statistics`;

CREATE TABLE `service_statistics` (
  `Date` date DEFAULT NULL,
  `total_ussd_requests` int(200) DEFAULT NULL,
  `total_ussd_response` int(200) DEFAULT NULL,
  `total_ussd_fixed_msg_resp` int(200) DEFAULT NULL,
  `total_ussd_custom_msg_resp` int(200) DEFAULT NULL,
  `sys_utilization_percentage` int(200) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;















INSERT INTO USER (FIRSTNAME, LASTNAME, EMAIL, MOBILE_NO, PASSWORD) VALUES ('admin', 'admin', 'admin@boot.com', '9999999999', '$2a$10$Oxm9zeWvkD9oa5yeZJ5T5eZhM4VFcrzcrwtYfQJoBzlkqmkeiZo.2');
INSERT INTO USER (FIRSTNAME, LASTNAME, EMAIL, MOBILE_NO, PASSWORD) VALUES ('user', 'user', 'user@boot.com', '9898989898', '$2a$10$pKqV1oABeq01SemLGufQ/.bHO4W0olykC.KQ.99rKhjHQ0RQt4e7m');
INSERT INTO AUTHORITY (NAME) VALUES ('ROLE_USER');
INSERT INTO AUTHORITY (NAME) VALUES ('ROLE_ADMIN');
INSERT INTO AUTHORITY (NAME) VALUES ('ROLE_ANONYMOUS');
INSERT INTO USER_AUTHORITY SET USER_ID = (SELECT id FROM USER WHERE EMAIL = 'admin@boot.com'), AUTHORITY_ID = (SELECT id FROM AUTHORITY WHERE NAME = 'ROLE_ADMIN');
INSERT INTO USER_AUTHORITY SET USER_ID = (SELECT id FROM USER WHERE EMAIL = 'admin@boot.com'), AUTHORITY_ID = (SELECT id FROM AUTHORITY WHERE NAME = 'ROLE_USER');
INSERT INTO USER_AUTHORITY SET USER_ID = (SELECT id FROM USER WHERE EMAIL = 'user@boot.com'), AUTHORITY_ID = (SELECT id FROM AUTHORITY WHERE NAME = 'ROLE_USER');
